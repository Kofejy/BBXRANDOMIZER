<!DOCTYPE html>

<!DOCTYPE html>
<html lang="fr">
    <link rel="stylesheet" href="style.css">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBX Randomizer</title>
</head>
<header>
    <h1 class="titre" align="center">BBX RANDOMIZER</h1>
    <h2 align="center">Randomizer pour le Tournoi Broken Monolith #4</h2>
</header>

<body>
    <img src="PhoenixWingBlade.png" class="left-image" alt="Image gauche">
    <img src="WizardRodBlade.png" class="right-image" alt="Image droite">

    <div style="height:10px"></div>
    <h3>Blades:</h3>
    <input id="blade1" placeholder="Blade 1">
    <input id="blade2" placeholder="Blade 2">
    <input id="blade3" placeholder="Blade 3">
    <br/>
    <h3>Ratchets:</h3>
    <input id="ratchet1" placeholder="Ratchet 1">
    <input id="ratchet2" placeholder="Ratchet 2">
    <input id="ratchet3" placeholder="Ratchet 3">
    <h3>Bits:</h3>
    <input id="bit1" placeholder="Bit 1">
    <input id="bit2" placeholder="Bit 2">
    <input id="bit3" placeholder="Bit 3">
    <div style="height:45px"></div>
    <button onclick="generate()">Randomiser</button>

    <div id="popup" style="display: none;">
    <div class="popup-content">
        <div id="popup-content"></div> <!-- On affichera les combos ici -->
        <button onclick="closePopup()">Fermer</button>
    </div>
</div>


<script>

    function openPopup() {
    document.getElementById("popup").style.display = "flex";
}

function closePopup() {
    document.getElementById("popup").style.display = "none";
}

    function shuffle(array) {
    // Mélange un tableau avec Fisher-Yates
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

function generate() {
    // ==========================
    // 1) Récupération des valeurs
    // ==========================
    const blades = [
        document.getElementById("blade1").value,
        document.getElementById("blade2").value,
        document.getElementById("blade3").value
    ];

    const ratchets = [
        document.getElementById("ratchet1").value,
        document.getElementById("ratchet2").value,
        document.getElementById("ratchet3").value
    ];

    const bits = [
        document.getElementById("bit1").value,
        document.getElementById("bit2").value,
        document.getElementById("bit3").value
    ];

    // ==========================
    // 2) Mélange des trois listes
    // ==========================
    shuffle(blades);
    shuffle(ratchets);
    shuffle(bits);

    // ==========================
    // 3) Construction des combos
    // ==========================
    let result = "";

    for (let i = 0; i < 3; i++) {
        result += `Combo ${i + 1} : ${blades[i]} / ${ratchets[i]} / ${bits[i]}<br>`;
    }

    // ==========================
    // 4) Affichage
    // ==========================
    document.getElementById("popup-content").innerHTML = result;
    openPopup();
}




</script>

</body>

</html>
